<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description"
		content="OneinStack - A PHP/JAVA Deployment Tool. In order to quickly deploy lnmp,lamp,lnmpa,ltmp,lnmh,MySQL,PostgreSQL,MongoDB">
	<meta name="author" content="yeho">
	<title>Welcome to use OneinStack</title>
	<link href="https://linuxeye.com/image/ois.css" rel="stylesheet">
</head>

<body>
	<nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
		<a class="navbar-brand col-sm-3 col-md-2 mr-0" href="">OneinStack</a>

		<form class="w-100" action="https://lempstack.com/qa/" method="GET" target="_blank">
			<input class="form-control form-control-dark w-100" type="text" placeholder="What do you want to know?"
				aria-label="What do you want to know?" name="qs">
		</form>

		<ul class="navbar-nav px-3">
			<li class="nav-item text-nowrap">
				<a class="nav-link" href="https://lempstack.com" target="_blank">OneinStack</a>
			</li>
		</ul>
	</nav>

	<div class="container-fluid">
		<div class="row">
			<nav class="col-md-2 d-none d-md-block bg-light sidebar">
				<div class="sidebar-sticky">
					<ul class="nav flex-column">
						<li class="nav-item">
							<a class="nav-link active" href="###home" id="home_link">
								<span data-feather="home"></span>
								Control center <span class="sr-only">(current)</span>
							</a>
						</li>
						<!--<li class="nav-item">
                <a class="nav-link" href="###step" id="step_link">
                  <span data-feather="file"></span>
                </a>
              </li>-->
						<li class="nav-item">
							<a class="nav-link" href="###vhost" id="vhost_link">
								<span data-feather="layers"></span>
								Virtual host
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###db" id="db_link">
								<span data-feather="shopping-cart"></span>
								Database
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###ftp" id="ftp_link">
								<span data-feather="users"></span>
								FTP
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###tools" id="tools_link">
								<span data-feather="briefcase"></span>
								Tools
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###manage" id="manage_link">
								<span data-feather="bar-chart-2"></span>
								Manage service
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###backup" id="backup_link">
								<span data-feather="disc"></span>
								Backup
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###upgrade" id="upgrade_link">
								<span data-feather="trending-up"></span>
								Upgrade & Uninstall
							</a>
						</li>
						<li class="nav-item">
							<a class="nav-link" href="###port" id="port_link">
								<span data-feather="cloud"></span>
								Security group
							</a>
						</li>
					</ul>

				</div>
			</nav>

			<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4">

				<div
					class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
					<h1 class="h2" id="home">Control center</h1>
					<div class="btn-toolbar mb-2 mb-md-0">
						<div class="btn-group mr-2">
							<a class="btn btn-sm btn-outline-primary btn_prober" href="xprober.php"
								target="_blank"><span data-feather="compass"></span> prober</a>
							<a class="btn btn-sm btn-outline-info btn_phpinfo" href="phpinfo.php" target="_blank"><span
									data-feather="info"></span> phpinfo</a>
							<a class="btn btn-sm btn-outline-secondary btn_op" href="ocp.php" target="_blank"><span
									data-feather="cpu"></span> Opcache</a>
						</div>
						<a class="btn btn-sm btn-outline-warning mr-2 btn_pma" href="phpMyAdmin/" target="_blank">
							<span data-feather="database"></span> phpMyAdmin
						</a>
					</div>
				</div>

				<section class="section" id="home_section">
					<h2>Congratulations, OneinStack installed successfully!</h2>
					<h3><a href="https://linuxeye.com/"
							target="_blank">Linux</a>+Nginx/Tengine+MySQL/MariaDB/Percona</br>+PHP+Pureftpd+phpMyAdmin+redis+memcached+jemalloc.
					</h3>

				</section>

				<section class="section" id="tools_section">
					<h2 class="mt-5" id="tools">Tools</h2>
					<a class="btn btn-primary btn_prober" href="xprober.php" target="_blank" role="button">prober</a>
					<a class="btn btn-info btn_phpinfo" href="phpinfo.php" target="_blank" role="button">phpinfo</a>
					<a class="btn btn-success btn_pma" href="phpMyAdmin/" target="_blank" role="button">phpMyAdmin</a>
					<a class="btn btn-secondary btn_op" href="ocp.php" target="_blank" role="button">Opcache</a>
				</section>

				<section class="section" id="step_section">
					<h2 class="mt-5" id="step">Steps</h2>
					<div class="card-deck mb-3 text-center">
						<div class="card mb-4 box-shadow">
							<div class="card-header">
								<h4 class="my-0 font-weight-normal">Dns analysis</h4>
							</div>
							<div class="card-body">
								<h1 class="card-title pricing-card-title">Domain<small class="text-muted">
										control</small></h1>
								<ul class="list-unstyled mt-3 mb-4">
									<li>Cloudflare</li>
									<li>Alibabacloud</li>
									<li>DNSPOD</li>
								</ul>
								<a href="https://www.alibabacloud.com/help/faq-detail/35854.htm" target="_blank"
									type="role" class="btn btn-lg btn-block btn-primary">BROWSE DOCS</a>
							</div>
						</div>
						<div class="card mb-4 box-shadow">
							<div class="card-header">
								<h4 class="my-0 font-weight-normal">Add virtual host</h4>
							</div>
							<div class="card-body">
								<h1 class="card-title pricing-card-title">Create<small class="text-muted">
										website</small></h1>
								<ul class="list-unstyled mt-3 mb-4">
									<li>Add virtual host: ./vhost.sh</li>
									<li>Del virtual host: ./vhost.sh --del</li>
									<li>Manage FTP account: ./pureftpd_vhost.sh</li>
								</ul>
								<a href="https://lempstack.com/install/" target="_blank" type="role"
									class="btn btn-lg btn-block btn-primary">BROWSE DOCS</a>
							</div>
						</div>
						<div class="card mb-4 box-shadow">
							<div class="card-header">
								<h4 class="my-0 font-weight-normal">Deploy website</h4>
							</div>
							<div class="card-body">
								<h1 class="card-title pricing-card-title">Online<small class="text-muted">
										running</small></h1>
								<ul class="list-unstyled mt-3 mb-4">
									<li><a href="phpMyAdmin/" target="_blank">phpMyAdmin</a></li>
									<li>Manage FTP account: ./pureftpd_vhost.sh</li>
									<li>Backup: ./backup_setup.sh</li>
								</ul>
								<a href="https://lempstack.com/install/" target="_blank" type="role"
									class="btn btn-lg btn-block btn-primary">BROWSE DOCS</a>
							</div>
						</div>
					</div>
				</section>

				<section class="section" id="vhost_section">
					<h2 class="mt-5" id="vhost">How to add a virtual host?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/vhost.sh
  
  #######################################################################
  #######################################################################
  
  What Are You Doing?
		  1. Use HTTP Only
		  2. Use your own SSL Certificate and Key
		  3. Use Let's Encrypt to Create SSL Certificate and Key
		  q. Exit
  Please input the correct option: 3
  
  Please input domain(example: www.example.com): demo.linuxeye.com
  domain=demo.linuxeye.com
  
  Please input the directory for the domain:demo.linuxeye.com :
  (Default directory: /data/wwwroot/demo.linuxeye.com):
  Virtual Host Directory=/data/wwwroot/demo.linuxeye.com
  
  Create Virtul Host directory......
  set permissions of Virtual Host directory......
  
  Do you want to add more domain name? [y/n]: y
  
  Type domainname or IP(example: example.com other.example.com): demo2.linuxeye.com
  domain list=demo2.linuxeye.com
  
  Do you want to redirect from demo2.linuxeye.com to demo.linuxeye.com? [y/n]: y  
  
  Do you want to redirect all HTTP requests to HTTPS? [y/n]: y
  
  Please select domain cert key length.
  Enter one of 2048, 3072, 4096, 8192 will issue a RSA cert.
  Enter one of ec-256, ec-384, ec-521 will issue a ECC cert.
  
  Please enter your cert key length (default 2048): 2048
  
  Please enter your email: lj2007331@mail.com
  
  [Sun Oct 30 04:27:06 PM CST 2022] Create account key ok.
  [Sun Oct 30 04:27:06 PM CST 2022] No EAB credentials found for ZeroSSL, let's get one
  [Sun Oct 30 04:27:13 PM CST 2022] Registering account: https://acme.zerossl.com/v2/DV90
  [Sun Oct 30 04:27:15 PM CST 2022] Could not get nonce, let's try again.
  [Sun Oct 30 04:27:39 PM CST 2022] Registered
  [Sun Oct 30 04:27:39 PM CST 2022] ACCOUNT_THUMBPRINT='LMG4Elq-AFm-IH17QAk3yjmp-8TNoxi__gWTIIT1tzY'
  ....
  [Sun Oct 30 04:28:20 PM CST 2022] Cert success.
  
  nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
  nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful
  
  Do you want to add hotlink protection? [y/n]: n
  
  Allow Rewrite rule? [y/n]: y
  
  Please input the rewrite of programme :
  wordpress,opencart,magento2,drupal,joomla,codeigniter,laravel
  thinkphp,pathinfo,discuz,typecho,ecshop,nextcloud,zblog,whmcs rewrite was exist.
  (Default rewrite: other): wordpress
  You choose rewrite=wordpress
  
  Allow Nginx/Tengine/OpenResty access_log? [y/n]: y
  You access log file=/data/wwwlogs/demo.linuxeye.com_nginx.log
  
  nginx: the configuration file /usr/local/nginx/conf/nginx.conf syntax is ok
  nginx: configuration file /usr/local/nginx/conf/nginx.conf test is successful
  Reload Nginx......
  
  #######################################################################
  #######################################################################
  Your domain:                  demo.linuxeye.com
  Virtualhost conf:             /usr/local/nginx/conf/vhost/demo.linuxeye.com.conf
  Directory of:                 /data/wwwroot/demo.linuxeye.com
  Rewrite rule:                 /usr/local/nginx/conf/rewrite/wordpress.conf
  Let's Encrypt SSL Certificate:/usr/local/nginx/conf/ssl/demo.linuxeye.com.crt
  SSL Private Key:              /usr/local/nginx/conf/ssl/demo.linuxeye.com.key
				</pre>
					</div>
					<h2 class="mt-5">How to delete a virtual host?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/vhost.sh --del
  
  #######################################################################
  #######################################################################
  
  Virtualhost list:
  demo1.linuxeye.com demo.linuxeye.com www.linuxeye.com
  
  Please input a domain you want to delete: demo.linuxeye.com
  
  Do you want to delete Virtul Host directory? [y/n]: y
  Press Ctrl+c to cancel or Press any key to continue...
  
  Domain: demo.linuxeye.com has been deleted.
  
				</pre>
					</div>
				</section>

				<section class="section" id="ftp_section">
					<h2 class="mt-5">FTP Client</h2>
					<h3>FileZilla: <a href="https://filezilla-project.org/download.php" target="_blank"
							class="links">Download address</a></h3>
					<h2 class="mt-5" id="ftp">How to add FTP virtual user?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/pureftpd_vhost.sh
  
  #######################################################################
  #                 FTP virtual user account management                 #
  #######################################################################
  
  What Are You Doing?
		  1. UserAdd      #Tip: Add Ftp account
		  2. UserMod      #Tip: Change the webroot directory permissions of an Ftp account
		  3. UserPasswd   #Tip: Change a ftp password
		  4. UserDel      #Tip: Delete a ftp account
		  5. ListAllUser  #Tip: List all Ftp accounts
		  6. ShowUser     #Tip: Display a Ftp account details
		  q. Exit         #Tip: Quit
  Please input the correct option: 1
  
  Please input a username: ftpuser
  
  Please input the password: UArUDjLZ12HD
  
  Please input the directory(Default directory: /data/wwwroot):    #Tip: ftpuser webroot directory, it is recommended to default, you can directly press Enter.
  Password: 
  Enter it again: 
  #####################################
  
  [ftpuser] create successful! 
  
  You user name is : ftpuser
  You Password is : UArUDjLZ12HD
  You directory is : /data/wwwroot
				</pre>
					</div>
				</section>

				<section class="section" id="db_section">
					<h2 class="mt-5" id="db">Database</h2>
					<div class="list-group">
						<a href="phpMyAdmin" target="_blank" class="list-group-item list-group-item-action active">
							phpMyAdmin
						</a>
						<a href="https://lempstack.com/question/display-default-mysql-root-password/" target="_blank"
							class="list-group-item list-group-item-action">Display default MySQL root password</a>
						<a href="https://lempstack.com/question/how-to-setup-a-remote-mysql-connection/" target="_blank"
							class="list-group-item list-group-item-action">How to setup a remote MySQL connection?</a>
					</div>
				</section>

				<section class="section" id="backup_section">
					<h2 class="mt-5" id="backup">How to backup?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/backup_setup.sh #Backup Set Parameters
  
  #######################################################################
  #                     Setup the backup parameters                     #
  #######################################################################
  
  Please select your backup destination:
		  1. Localhost
		  2. Remote host
		  3. Aliyun OSS
		  4. Qcloud COS
		  5. UPYUN
		  6. QINIU
		  7. Amazon S3
		  8. Dropbox
  Please input numbers:(Default 1 press Enter) 1
  
  Please select your backup content:
		  1. Only Database
		  2. Only Website
		  3. Database and Website
  Please input a number:(Default 1 press Enter) 1
  
  Please enter the directory for save the backup file: 
  (Default directory: /data/backup):
  
  Please enter a valid backup number of days: 
  (Default days: 5): 10
  
  Please enter one or more name for database, separate multiple database names with commas: 
  (Default database: linuxeye,weiliu) weiliu,linuxeye
  
  You have to backup the content:
  Database: weiliu,linuxeye
  </pre>
					</div>
					<div class="alert alert-success" role="alert">
						<pre>
  sudo /root/oneinstack/backup.sh #Perform the backup immediately
  sudo echo '0 1 * * * sudo /root/oneinstack/backup.sh > /dev/null 2>&1' >> /var/spool/cron/root  #Setup scheduled tasks to automatically schedule backup, Set up a daily backup at 1am
  </pre>
					</div>
				</section>

				<section class="section" id="manage_section">
					<h2 class="mt-5" id="manage">How to manage service?</h2>
					<p class="mt-4">Nginx/Tengine/OpenResty:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|status|restart|reload} nginx</code>
					</div>
					<p class="mt-4">MySQL/MariaDB/Percona:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|restart|reload|status} mysqld</code>
					</div>
					<p class="mt-4">PostgreSQL:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|restart|status} postgresql</code>
					</div>
					<p class="mt-4">MongoDB:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|status|restart|reload} mongod</code>
					</div>
					<p class="mt-4">PHP:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|restart|reload|status} php-fpm</code>
					</div>
					<p class="mt-4">Apache:</p>
					<div class="alert alert-primary" role="alert"><code>systemctl {start|restart|stop} httpd</code>
					</div>
					<p class="mt-4">Tomcat:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|status|restart} tomcat</code>
					</div>
					<p class="mt-4">Pure-Ftpd:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|restart|status} pureftpd</code>
					</div>
					<p class="mt-4">Redis:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|status|restart|reload} redis-server</code>
					</div>
					<p class="mt-4">Memcached:</p>
					<div class="alert alert-primary" role="alert">
						<code>systemctl {start|stop|status|restart|reload} memcached</code>
					</div>
				</section>

				<section class="section" id="upgrade_section">
					<h2 class="mt-5" id="upgrade">How to upgrade?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/upgrade.sh -h
  #######################################################################
  #              Upgrade Software versions for OneinStack               #
  #######################################################################
  
  Usage: /root/oneinstack/upgrade.sh  command ...[version]....
	--help, -h                  Show this help message
	--nginx        [version]    Upgrade Nginx
	--tengine      [version]    Upgrade Tengine
	--openresty    [version]    Upgrade OpenResty
	--apache       [version]    Upgrade Apache
	--tomcat       [version]    Upgrade Tomcat
	--db           [version]    Upgrade MySQL/MariaDB/Percona
	--php          [version]    Upgrade PHP
	--redis        [version]    Upgrade Redis
	--memcached    [version]    Upgrade Memcached
	--phpmyadmin   [version]    Upgrade phpMyAdmin
	--oneinstack                Upgrade OneinStack latest
	--acme.sh                   Upgrade acme.sh latest
	
  [root@WeiLiu ~]# sudo /root/oneinstack/upgrade.sh
  
  #######################################################################
  #              Upgrade Software versions for OneinStack               #
  #######################################################################
  
  What Are You Doing?
		   1. Upgrade Nginx/Tengine/OpenResty
		   2. Upgrade Apache
		   3. Upgrade Tomcat
		   4. Upgrade MySQL/MariaDB/Percona
		   5. Upgrade PHP
		   6. Upgrade Redis
		   7. Upgrade Memcached
		   8. Upgrade phpMyAdmin
		   9. Upgrade OneinStack latest
		  10. Upgrade acme.sh latest
		   q. Exit
  
  Please input the correct option: q
				</pre>
					</div>
					<h2 class="mt-5">How to uninstall?</h2>
					<div class="alert alert-success" role="alert">
						<pre>
  [root@WeiLiu ~]# sudo /root/oneinstack/uninstall.sh -h
  #######################################################################
  #                              Uninstall                              #
  #######################################################################
  
  Usage: /root/oneinstack/uninstall.sh  command ...[parameters]....
	--help, -h                    Show this help message, More: https://oneinstack.com
	--quiet, -q                   quiet operation
	--all                         Uninstall All
	--web                         Uninstall Nginx/Tengine/OpenResty/Apache/Tomcat
	--mysql                       Uninstall MySQL/MariaDB/Percona
	--postgresql                  Uninstall PostgreSQL
	--mongodb                     Uninstall MongoDB
	--php                         Uninstall PHP (PATH: /usr/local/php)
	--mphp_ver [53~81]            Uninstall another PHP version (PATH: /usr/local/php${mphp_ver})
	--allphp                      Uninstall all PHP
	--phpcache                    Uninstall PHP opcode cache
	--php_extensions [ext name]   Uninstall PHP extensions, include zendguardloader,ioncube,
								  sourceguardian,imagick,gmagick,fileinfo,imap,ldap,calendar,phalcon,
								  yaf,yar,redis,memcached,memcache,mongodb,swoole,xdebug
	--pureftpd                    Uninstall PureFtpd
	--redis                       Uninstall Redis-server
	--memcached                   Uninstall Memcached-server
	--phpmyadmin                  Uninstall phpMyAdmin
	--nodejs                      Uninstall Nodejs (PATH: /usr/local/node)
	
  [root@WeiLiu ~]# sudo /root/oneinstack/uninstall.sh
  
  #######################################################################
  #                              Uninstall                              #
  #######################################################################
  
  What Are You Doing?
		   0. Uninstall All
		   1. Uninstall Nginx/Tengine/OpenResty/Apache/Tomcat
		   2. Uninstall MySQL/MariaDB/Percona
		   3. Uninstall PostgreSQL
		   4. Uninstall MongoDB
		   5. Uninstall all PHP
		   6. Uninstall PHP opcode cache
		   7. Uninstall PHP extensions
		   8. Uninstall PureFtpd
		   9. Uninstall Redis
		  10. Uninstall Memcached
		  11. Uninstall phpMyAdmin
		  12. Uninstall Nodejs (PATH: /usr/local/node)
		   q. Exit
  
  Please input the correct option: q
  </pre>
					</div>
				</section>

				<section class="section" id="port_section">
					<div class="card text-white bg-danger" style="width: 20rem;">
						<div class="card-header">
							You must specify port numbers (for TCP):
						</div>
						<ul class="list-group list-group-flush">
							<li class="list-group-item text-danger">ssh: 22</li>
							<li class="list-group-item text-danger">http: 80</li>
							<li class="list-group-item text-danger">https: 443</li>
							<li class="list-group-item text-danger">ftp: 21, 20000~30000</li>
						</ul>
					</div>
					<div class="list-group mt-5" style="width: 18rem;">
						<a class="list-group-item list-group-item-action active">
							Security Groups for Your VPC
						</a>
						<a href="https://docs.aws.amazon.com/vpc/latest/userguide/VPC_SecurityGroups.html"
							target="_blank" class="list-group-item list-group-item-action">AWS Security groups</a>
						<a href="https://docs.microsoft.com/en-us/azure/virtual-network/security-overview"
							target="_blank" class="list-group-item list-group-item-action">Azure Security groups</a>
						<a href="https://www.alibabacloud.com/help/doc-detail/58746.htm" target="_blank"
							class="list-group-item list-group-item-action">Alibabacloud Security group</a>
					</div>
				</section>

				<div align="center" class="mt-5"><iframe src="https://linuxeye.com/ad_buttom.html" width="475"
						frameborder="0" scrolling="no"></iframe></div>
				<div>
					<p>
						Telegram Group:&nbsp;&nbsp; <a target="_blank" class="links"
							href="https://t.me/oneinstack">t.me/oneinstack</a>
					</p>
					<p align="right"><a href="#">Top</a></p>
				</div>
			</main>
		</div>
	</div>
	<script src="https://linuxeye.com/image/ois.js"></script>
</body>

</html>